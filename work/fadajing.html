<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
			*{margin: 0;padding: 0;}
			.box1{width: 200px;height: 300px;position: relative;top: 100px;left: 100px;}
			.box1 img{width: 100%;}
			.box1 span{width: 100px;height: 100px;position: absolute;top: 0;left: 0px;background: red;opacity: .2;cursor:move;display: none;}
			.box2{width: 300px;height: 300px;position: absolute;top: 100px;left: 600px;overflow: hidden;display: none;}
			.box2 img{position: absolute;top: 0;left: 0px;}
		</style>
		<script src="../js/jquery-3.1.0.min.js"></script>
	</head>
	<body>
		<div class="box1">
			<img src="../images/webwxgetmsgimg1.jpg" />
			<span></span>
		</div>
		<div class="box2">
			<img src="../images/webwxgetmsgimg1.jpg" />
		</div>
	</body>
	<script>
		$('.box1').mousemove(function(ev){
			$('.box2').show()
			var l=ev.pageX-$('.box1').position().left-$('.box1 span').outerWidth()/2;
			var t=ev.pageY-$('.box1').position().top-$('.box1 span').outerHeight()/2;
			if(l<0)l=0;
			if(t<0)t=0;
			if(l>$('.box1').outerWidth()-$('.box1 span').outerWidth())l=$('.box1').outerWidth()-$('.box1 span').outerWidth()
			if(t>$('.box1').outerHeight()-$('.box1 span').outerHeight())t=$('.box1').outerHeight()-$('.box1 span').outerHeight()
			$('.box1 span').show().css({"left":l,"top":t})
			$('.box2 img').css({"left":-l*3,"top":-t*3})
		})
		
		$('.box1').mouseleave(function(){
			$('.box1 span').hide();
			$('.box2').hide();
		})
	</script>
</html>
